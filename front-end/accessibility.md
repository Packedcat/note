## 网站可访问性

残障人士在使用网站是不会遇到障碍，即可以认知、理解网站，能够在网站上导航以及进行交互

### 残障人士如何访问网站

- 视觉障碍

  读屏软件来接收页面信息；放大页面上的文字和图片

- 听觉障碍

  音频内容的可暂停、音量的调节、音频字幕等

- 肢体障碍

  能通过键盘聚焦页面的交互组件、触发相应的键盘事件来进行交互、快速导航到主要内容区域等

- 认知障碍

  页面上一些滚动区域的内容可以随时停止和重启、一些复杂的内容的能够配以简单易懂的说明文字、相同的链接使用相同的文字、页面上动画的设计不会引起用户不适等

### 提高网站的可访问性

- 清晰的网站结构
  - 通过 ARIA 中的 role 或者 HTML5 中语义化的标签 `<main>` 、`<header>` 等来为页面提供 Landmark，常见的有 Landmark 有 navigation、search、banner、contentinfo、complementary
  - 使用 `<h1>` ~ `<h6>` 表示标题文字，用 H 元素组织页面区块
- 网站样式和内容
  - AAA 级要求正常文本最小对比度为 7:1，大号文本为 4.5:1，AA 级的建议是正常文本最小对比度为 4.5:1，大号字体为 3:1
  - 颜色不作为传递信息的唯一渠道，比如必填项、错误提示等信息的传递
  - 为 `<html>` 标签提供 lang 属性
  - 当页面内容的语言与 `<html>` 标签语言不同时，使用 lang 属性为内容标明语言
  - 尽量保证 DOM 顺序和视觉顺序一致
  - 页面缩放时能保证内容排版的正常阅读
  - 页面中必须包含一个 `<title>` 元素，并且不能为空
  - 移除页面上的 `<i>` 和 `<b>` 标签，用 css 实现加粗等样式。要强调的词、短语和句子，请用 `<em>`，`<strong>` 实现
  - 为页面提供一个无障碍帮助文档的链接，用于说明页面无障碍使用方法
  - 为页面上的非文字内容提供替换文本，如图片、ASCII、SVG、Charts、Graphs 等
- Form 表单
  - `<form>` 表单里面的表单元素必须有一个独一无二的 `<label>`。一般通过 `<label>` 配合 for，id 使用或者 aria-label，aria-labelledby 实现
  - 如果页面上有多个表单，`<submit>` 和 reset `<button>` 必须是独一无二的
  - Invalid 的表单输入值使用 aira-invalid 属性标识非法性
  - 必填元素使用 required 或 aria-required 来标识
  - 错误信息提示：为关联的表单输入项添加 aria-describedby 链接到错误提示 或者 使用 ARIA 中的 role = alert 或 Live Region
  - input = images 必须有 alt 或者 titile 属性，且不为空
  - 输入框的描述文字或者错误提醒里面应提供正确例子和格式说明
  - 使用 fieldset 和 legend 为表单内容提供说明文字
- Table 表格
  - 使用 `<th>` 来定义 row 或者 column 中数据的标题
  - 数据表格必须有 name 和 descption 且不能相同。使用 caption、summary、title、aria-label、aria-labelledby 等属性实现
  - 尽量不要使用 table 布局，仅用于数据展示
- Link 和导航
  - 链接应该聚焦在本页面，如果需要在新窗口打开页面需要提前告知用户该行为
  - 使用 aria-label，aria-labelledby 或 title 为链接提供说明文本，描述去向
  - 链接的描述文字必须是独一无二的，相同的链接描述文字应该一致
  - 如果一个链接包含一个图片和文字，并且 alt 中的内容和文字类似/相同，那么 alt 的属性应该为空
  - 保证不会的用户不知情的情况下刷新和跳转页面
- Image 图片
  - 为 `<img>` 标签提供替换文本，使用 alt 或者 aria-labelledby 等属性
  - 纯装饰性图片提供 alt = ""，role = "presentation" 或者用 background-image 实现
  - 避免提供与相邻链接或文字类似/相同的 alt 文字，造成冗余
  - 为一组图片的第一个 item 提供替代文本，比如商品评分 star 图片组
  - 提供图片验证码的替代文本，并提供针对不同类型感官直觉的输出方式，如语音验证码
  - 有背景图片的应该提供图片缺失或者不可用时的背景色
- Hx 标题
  - 每个页面应该有且仅有一个 `<h1>` 标题且包含在 main 区块或者 banner 区块
  - 同级标题的内容必须是独一无二的，不能相同
  - H 标签里面必须包含可视性文本，`<h2>` ~ `<h6>` 中除了 `<img>` 的 alt 属性外，还应该包含文字内容
  - 标题合理嵌套，方便屏幕阅读器理解文档结构，不要跳级嵌套
- 键盘可访问性
  - 提供可以直接导航到主内容区域的链接和快捷键
  - 用 Tab 导航时，获取 focus 的顺序必须有意义，尽量和视觉效果保持一致，且在获取焦点时样式上要和未获得焦点的元素不同
  - 页面上所有的交互功能必须可以通过键盘来完成。不要使用双击处理程（onDblClick），因为键盘不能执行这个行为。鼠标事件要提供对应的 keydown、keypress、keyup、onfocus 等事件
  - 不要有键盘陷阱，保证用户不会被困在某个弹窗里（不能退出）或者迷失焦点元素里。可以使用 tabindex = "-1" 从 Tab 顺序中移除一个元素
  - 为页面上的公有区域比如公共导航，提供可以直接跳过的快捷键
  - 保证提供的页面快捷键不会和浏览器标准快捷键相冲突
  - 保证所有的 `<menu>` 子菜单可通过键盘打开并在其中导航
- 多媒体和动画
  - 音频必须要有配套的可替换文字和描述文字
  - 音频内容在页面加载时自动播放，超过 3s 的内容要让用户可以自主的暂停和重启内容
  - 页面上不要出现闪动频率高于 3 次/s 的内容，以免引起不适
  - 如果用户的交互是受时间限制的，需要提供一个方式让用户可以关闭，调整这个时间限制
  - 滚动内容或者自动更新的内容在页面加载完成自动开始，更新或移动频率低于 5s 时，需要提供一个可以停止和重启的功能

### 检测网站的可访问性

- 测评插件

  Chrome 的 WAVE、Firefox 的 Accessibility Evaluation Toolbar

- 键盘检测

  仅使用键盘访问网站

- 内容检测

  缩放浏览器 75% ~ 200% 进行检测，看页面上信息展示是否完整

- 屏幕阅读器

  包括 JAWS、NVDA、VoiceOver 来阅读网站
